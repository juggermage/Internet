<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Лабораторна робота 4</title>
</head>
<body>
    <a href="https://juggermage.github.io/Internet/">На головну</a>
  </div>

  <h2>Тестування</h2>

  <form id="testForm">

    <div class="question">
      <p>1. Якого кольору небо вдень?</p>
      <label><input type="radio" name="q1" value="1"> Синє</label><br>
      <label><input type="radio" name="q1" value="0"> Чорне</label><br>
      <label><input type="radio" name="q1" value="0"> Зелене</label><br>
      <label><input type="radio" name="q1" value="0"> Червоне</label>
    </div>

    <div class="question">
      <p>2. Скільки буде 5 - 2?</p>
      <label><input type="radio" name="q2" value="0"> 1</label><br>
      <label><input type="radio" name="q2" value="1"> 3</label><br>
      <label><input type="radio" name="q2" value="0"> 5</label><br>
      <label><input type="radio" name="q2" value="0"> 7</label>
    </div>

    <div class="question">
      <p>3. Які тварини вміють літати?</p>
      <label><input type="checkbox" name="q3" value="1"> Птахи</label><br>
      <label><input type="checkbox" name="q3" value="1"> Кажани</label><br>
      <label><input type="checkbox" name="q3" value="0"> Коти</label><br>
      <label><input type="checkbox" name="q3" value="0"> Собаки</label>
    </div>

    <div class="question">
      <p>4. Які бувають трикутники?</p>
      <label><input type="checkbox" name="q4" value="1"> Рівносторонні</label><br>
      <label><input type="checkbox" name="q4" value="1"> Рівнобедрені</label><br>
      <label><input type="checkbox" name="q4" value="0"> Круглі</label><br>
      <label><input type="checkbox" name="q4" value="0"> Трапецеподібні</label>
    </div>

    <div class="question">
      <p>5. Який фрукт жовтого кольору?</p>
      <select name="q5">
        <option value="0">Яблуко</option>
        <option value="1">Банан</option>
        <option value="0">Вишня</option>
        <option value="0">Слива</option>
      </select>
    </div>

    <div class="question">
      <p>6. Виберіть парні числа:</p>
      <select name="q6" multiple size="4">
        <option value="1">2</option>
        <option value="0">3</option>
        <option value="1">4</option>
        <option value="0">5</option>
      </select>
    </div>

    <div class="question">
      <p>7. Який зараз рік?</p>
      <input type="text" name="q7" placeholder="Введіть рік">
    </div>

    <button type="button" onclick="checkTest()">Завершити тестування</button>
  </form>

  <div id="result"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const select6 = document.querySelector('select[name="q6"]');
      if (!select6) return;

      const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints && navigator.maxTouchPoints > 0);

      if (isTouch) {
        select6.addEventListener('click', function(e) {
          if (e.target && e.target.tagName === 'OPTION') {
            e.preventDefault();
            e.target.selected = !e.target.selected;
          }
        });
      } else {
        select6.addEventListener('mousedown', function(e) {
          if (e.target && e.target.tagName === 'OPTION') {
            e.preventDefault();
            e.target.selected = !e.target.selected;
          }
        });
      }
    });

    function checkTest() {
      const form = document.getElementById('testForm');
      let output = "<table border='1'><tr><th>№</th><th>Запитання</th><th>Відповідь</th><th>Бали</th></tr>";
      let total = 0;

      // 1
      const q1 = form.querySelector('input[name="q1"]:checked');
      const text1 = q1 ? q1.parentNode.textContent.trim() : "Не відповіли";
      const bal1 = q1 ? parseInt(q1.value) : 0;
      total += bal1;
      output += `<tr><td>1</td><td>Колір неба</td><td>${text1}</td><td>${bal1}</td></tr>`;

      // 2
      const q2 = form.querySelector('input[name="q2"]:checked');
      const text2 = q2 ? q2.parentNode.textContent.trim() : "Не відповіли";
      const bal2 = q2 ? parseInt(q2.value) : 0;
      total += bal2;
      output += `<tr><td>2</td><td>5-2</td><td>${text2}</td><td>${bal2}</td></tr>`;

      // 3
      const q3 = form.querySelectorAll('input[name="q3"]:checked');
      let chosen3 = [], correct3 = 0;
      q3.forEach(cb => { chosen3.push(cb.parentNode.textContent.trim()); if (cb.value==="1") correct3++; });
      let bal3 = (q3.length>0)?correct3:0;
      total += bal3;
      output += `<tr><td>3</td><td>Тварини, що літають</td><td>${chosen3.join(", ")||"Не відповіли"}</td><td>${bal3}</td></tr>`;

      // 4
      const q4 = form.querySelectorAll('input[name="q4"]:checked');
      let chosen4 = [], correct4 = 0;
      q4.forEach(cb => { chosen4.push(cb.parentNode.textContent.trim()); if (cb.value==="1") correct4++; });
      let bal4 = (q4.length>0)?correct4:0;
      total += bal4;
      output += `<tr><td>4</td><td>Види трикутників</td><td>${chosen4.join(", ")||"Не відповіли"}</td><td>${bal4}</td></tr>`;

      // 5
      const q5 = form.q5;
      const text5 = q5.options[q5.selectedIndex].text;
      const bal5 = parseInt(q5.value);
      total += bal5;
      output += `<tr><td>5</td><td>Жовтий фрукт</td><td>${text5}</td><td>${bal5}</td></tr>`;

      // 6
      const q6 = form.querySelectorAll('select[name="q6"] option');
      let chosen6 = [], correct6 = 0;
      q6.forEach(opt=>{ if(opt.selected){chosen6.push(opt.text); if(opt.value==="1") correct6++;} });
      let bal6 = (chosen6.length>0)?correct6:0;
      total += bal6;
      output += `<tr><td>6</td><td>Парні числа</td><td>${chosen6.join(", ")||"Не відповіли"}</td><td>${bal6}</td></tr>`;

      // 7
      const q7 = (form.q7.value||"").trim();
      const bal7 = (q7==="2025")?1:0;
      total += bal7;
      output += `<tr><td>7</td><td>Рік зараз</td><td>${q7||"Не відповіли"}</td><td>${bal7}</td></tr>`;

      output += `</table><h3>Загальний бал: ${total}</h3>`;
      document.getElementById("result").innerHTML = output;
    }
  </script>
</body>
</html>
